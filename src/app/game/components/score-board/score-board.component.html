<app-box-group header="Scoreboard" [styled]="false">
  <div class="wrapper">
    <div class="column">
      <div class="field"></div>
      <div
        *ngFor="let player of players; let index = index"
        class="field avatar"
        [ngClass]="{ active: index === currentTurn && !disableAnimation }"
      >
        <app-avatar
          [avatarUrl]="player.avatarUrl"
          [color]="player.color"
          [name]="player.name"
          size="25"
        ></app-avatar>
      </div>
    </div>
    <div class="score-columns" [ngClass]="{ 'full-width': fullWidth }">
      <div class="scores">
        <div @slideIn *ngFor="let round of roundsPlaceHolder" class="column">
          <div class="field placeholder"></div>
          <div
            *ngFor="let player of players; let playerIndex = index"
            class="field placeholder"
            [ngClass]="{ 'active-placeholder': playerIndex === currentTurn && !disableAnimation }"
          ></div>
        </div>
        <div @slideIn *ngFor="let round of rounds" class="column">
          <div
            class="field header"
            [ngClass]="{ active: round === currentRound && !disableAnimation }"
          >
            <bdi>{{ gameConfig.shortRoundName(round) }}</bdi>
          </div>
          <div
            *ngFor="let player of players; let playerIndex = index"
            class="field"
            [ngClass]="{
              active: (playerIndex === currentTurn || round === currentRound) && !disableAnimation
            }"
          >
            <app-score-board-score-field
              [round]="getGamePlayer(player.id).rounds[round]"
            ></app-score-board-score-field>
          </div>
        </div>
      </div>
    </div>
    <div class="column">
      <div class="field total header">{{ gameConfig.totalHeader }}</div>
      <div
        *ngFor="let player of players; let index = index"
        class="field total"
        [ngClass]="{ active: index === currentTurn && !disableAnimation }"
      >
        <app-score-board-score-field
          [display]="getGamePlayer(player.id).totalDisplay"
        ></app-score-board-score-field>
      </div>
    </div>
  </div>
</app-box-group>
